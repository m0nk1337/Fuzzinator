// engine/knowledgeMap.js
// Central mapping for custom keywords, SOPs, process knowledge, product knowledge, packages, and more.

export const KEYWORD_MAP = {
        // Product/Package Knowledge: Children's Checkup
        "children's checkup": {
          type: "product",
          aliases: [
            "kids health checkup", "child health check", "child checkup", "children checkup", "kids checkup", "children's health package", "children's health test"
          ],
          content: `Doctor-Recommended Health Checkup for Growing Kids\n\nKey Benefits:\n- Covers critical health markers for immunity, growth, and energy\n- Includes tests like Vitamin D, B12, CBC, Ferritin, and more\n- Identifies hidden deficiencies early to support their active lifestyle\n- Designed by doctors, trusted by parents\n\nTest List & Relevance:\n- Complete Blood Count (CBC): Checks for anemia, infections, immune health\n- Vitamin D, 25-Hydroxy: Essential for bone development and immunity\n- Vitamin B12: Important for nerve function, brain development, and energy levels\n- Thyroid Function Test (TFT): Detects hypo/hyperthyroidism which affects growth & metabolism\n- Ferritin: Iron stores ‚Äî low levels can cause fatigue and poor growth\n- Glycosylated Haemoglobin (HbA1c): Screens for elevated blood sugar levels (early diabetes risk)\n- Calcium - Ionised: For bone and muscle health\n- Magnesium (Mg): Supports muscle function and energy production\n- Immunoglobulin E (Total IgE): Helpful if there are recurring allergies or asthma symptoms\n- Lipid Profile: Helps assess cholesterol and fat levels to identify early risk of potential issues, especially in children with obesity or family history.\n- Iron Profile: Detects iron deficiency or anemia, which can affect growth, development, and learning in children.\n- Kidney Function Test with Electrolytes: Evaluates kidney health and electrolyte balance, essential for hydration, muscle, and nerve function in kids.\n- Liver Function Test (LFT): Checks for liver health and possible infections or metabolic disorders affecting overall growth and energy.\n\nPrice: Essential ‚Çπ1299 | Advanced ‚Çπ2099\n\nüö∏ Why This Test Matters\nFrom playground adventures to classroom milestones, every child‚Äôs body needs the right building blocks to thrive. This doctor-designed health checkup helps parents proactively understand their child‚Äôs nutritional and health needs‚Äîbefore deficiencies show up as tiredness, poor immunity, or growth delays.\n\nüè† How It Works\n- Sample collection at your doorstep (fast, painless, no hospital queues)\n- Report in 12 hours`
        },
      // Product/Process Knowledge: Gut Microbiome Test
      "gut microbiome test": {
        type: "product",
        aliases: [
          "gut health test", "microbiome test", "gut test", "microbiome product", "gut microbiome info", "gut microbiome about", "gut microbiome details"
        ],
        content: `About the Test\n\nA Gut Microbiome test examines the tiny organisms living in the digestive system by studying their DNA from a stool sample. It checks for different types of bacteria, their variety and if they are balanced.\nThe test works by reading specific parts of microbial DNA to identify bacteria and other microbes like yeast or by analysing all genetic material in the sample to detect a wider range of microbes, including viruses and fungi.\nAn imbalance in gut bacteria, called dysbiosis, happens when there are too few good bacteria, too many harmful ones, or not enough variety. This can weaken digestion and immune defences, making the body more vulnerable to infections and diseases. Dysbiosis is linked to conditions like diarrhoea, colitis, and inflammatory bowel disease. It may also be connected to irritable bowel syndrome, obesity, diabetes, liver disease, rheumatoid arthritis, and even mental health problems like anxiety and depression.\nBy studying gut microbes, Gut Microbiota testing helps find imbalances and understand health risks. Knowing what bacteria are present can help to decide on treatment plans, improve digestion, and support overall well-being. A healthy gut microbiome plays an important role in breaking down food, producing vitamins, and keeping harmful bacteria under control. A balanced microbiome is essential for good health, and a Gut Health test at home can help check if it is working properly.\n\nList of Parameters\nGut Microbiota testing examines the tiny organisms living in the digestive system. It helps understand gut health by measuring different factors. The test includes a Gut Microbiome Index, which shows how diverse the gut bacteria are, and a Disease Risk Index, which checks if certain bacteria may be linked to health issues. It also looks at Antibiotic Susceptibility to see if any bacteria are resistant to antibiotics. Pathogen Characterisation helps detect harmful microbes, while Nutritional, Probiotic, and Prebiotic Recommendations suggest diet changes to improve gut health.\nThe gut may contain over 1,000 species of microorganisms. Along with bacteria, other tiny organisms like viruses and yeasts also live there. Gut bacteria perform essential roles, such as aiding digestion, producing nutrients, and controlling inflammation. They function like the immune system, supporting health but sometimes contributing to disease. Stool analysis helps identify the types and functions of these microbes.\nThe gut‚Äôs main bacterial groups, Bacteroidetes and Firmicutes, vary widely among individuals. Some have 90% Bacteroidetes, while others have 90% Firmicutes. There is no single ‚Äúhealthy‚Äù microbiome, but imbalances may indicate a need for improvement.\nThe Microbiome test measures Relative Abundance, which shows the proportion of each bacterial type, and Absolute Abundance, which tells how many bacteria are present. It also looks at Evenness (the balance between species) and Richness (the total number of species).\n\nTest Preparation\nNo special preparations, such as fasting, are needed. Collect 2-3 scoops of the sample from the first morning pass when possible. Avoid contamination from water, urine, blood, or other substances. Wait for 5 days post-antibiotic courses before sample collection, unless a physician asks to collect during the antibiotic course. Individuals are advised not to collect the sample during their menstrual cycles.\n\nWhy this test\nRecommended for people with digestive problems, gut infections, long-term health issues, heart and weight issues, allergies, asthma, tiredness, mood changes, anxiety, or nerve-related problems.\n\nDisclaimer: This is not a diagnostic report and should be used for Research Use Only (RUO) or Investigational Use Only (IUO) and should be interpreted or used exclusively by or under the guidance of a practitioner.\n\nNote: This test is available only for individuals above the age of 6 years. Any exceptions require a doctor's prescription or a nutritionist's recommendation.\n\nStool Collection Instructions\nUse the provided collection frame and tube with the DNA stabilizer liquid. Seal the sample in the provided return envelope and store it in a cool, dry place until pickup. The sample once collected remains stable for up to a month in the DNA stabilizing solution at room temperature.\n\nWhat is a Gut Microbiome Test?\nThe Gut Microbiome Test analyzes the trillions of bacteria, fungi, and viruses in your digestive system to reveal how they affect your digestion, immunity, metabolism, and mental health. With advanced metagenomic sequencing, it provides a detailed gut profile, detects imbalances, and offers personalized diet, supplement, and lifestyle advice, all guided by expert counseling.\n\n5 Reasons to Take a Gut Microbiome Test\n- Find the exact probiotics your gut needs\n- Identify harmful bacteria and gut imbalances\n- Understand how well your gut digests and absorbs food\n- Uncover early signs of gut-linked conditions\n- Get a personalized food and supplement plan\n\nWho Is This Test For?\n- People with ongoing gut issues (bloating, acidity, IBS or IBD)\n- Those managing long-term health conditions (PCOS, diabetes, thyroid issues, anxiety, or autoimmune symptoms)\n- Anyone struggling with weight loss\n- Health-conscious individuals looking for personalized nutrition & wellness insights\n\nFeature / Benefit Comparison\n- Metagenomic sequencing (DNA-level)\n- Analyzes bacteria, viruses, fungi\n- Species-level identification\n- Disease risk insights (20+ conditions)\n- Personalized food plan\n- Probiotic & prebiotic recommendations\n- Expert counseling\n- Visual, detailed, and easy to follow report\n- NABL & ISO certified labs\n- Free home pickup\n- Price: ‚Çπ9,999 ‚Äì all-inclusive\n\nWhy Choose Orange Health Gut Microbiome Test?\n- India‚Äôs First & Most Advanced Test\n- Precision with Metagenomic Sequencing\n- Personalized Diet & Probiotics\n- Doctor-Trusted & Accredited\n- Covers 20+ Disease Risk Predictions\n- Easy 3-step process: collect at home, free pickup, get report online\n- Includes expert guidance from nutritionists\n\nFAQs\n- Not a diagnostic test; provides gut health insights and recommendations\n- Includes microbiota analysis, disease risk assessment, and custom diet/probiotic plans\n- Reports delivered in 2‚Äì4 weeks\n- Sample: stool, collected at home\n- Wait 1 week after antibiotics before collecting sample`
      },
    // SOP for Gut Microbiome Test
    "gut microbiome sop": {
      type: "sop",
      aliases: ["gut microbiome process", "gut microbiome instructions", "microbiome test sop", "microbiome test process"],
      content: `Kindly follow the given instructions when Customers reach out for Gut Microbiome Tests.\n\nGut Microbiome Test Booking process - CRM\n\n1. Order will be placed by customer and will land in Requested state\n2. Connect with the customer and follow the SOP on calling\n3. Check if the customer has been on:\n* Antibiotics, and if YES , the sample collection to be advised after 7 Days . Customer should not be taking antibiotics in between.\n* The test will be done for patients above 6 years. Under 6 Years, prescription is mandatory\n* No collection will be done during Menstrual Cycle\n4. Post receiving confirmation, proceed with below SOP\n5. Questionnaire to be filled on call with regards to specific patient via google form: https://docs.google.com/forms/d/e/1FAIpQLScnAophnzfajP3uq8NVsLfxA1C57hQ_64AlojITgkZwV6jxww/viewform\n6. Schedule one slot:  Sample Pick up Time\n7. Schedule an email to control-tower@orangehealth.in at 5 - 6 hour before. (Take a confirmation from cx regarding kit drop time)\n8. Report TAT can be shared as is shown in OMS.\n\nNote :\nSample stability will not have any issues for 30 days available in the kit.\n* Sample not to be contaminated with any other Fluid or Substance .\n* Customer should not throw/discard the fluid in the tube.\n* 2-3 scoops of sample to be stored in the container/tube.\n* They should put the tube into the cover and give it to eMedic post collection\n* For post test counselling, please say its available on request basis ( FOC )\n\nScheduled Email Instructions:\n1. Go to Gmail\n2. Compose a mail with relevant details and subject\n3. Click on the arrow shown to the right side of Send button\n4. Schedule Send option can be clicked\n5. This will give standard time option and option to Pick custom Date & Time\n6. Click on Pick Date & Time, and identify the date time by which the mail should be sent\nExample: If a booking in OMS for Gut microbiome test is scheduled for 24th Apr, 2025 at 07:00 PM, then T-5 hour would be 24th Apr, 2025, at 2 PM, which is 5 hours before the slot time in OMS\n7. Click on Schedule send\n\nThis will automatically send the mail 5-6 hours before the slot time in OMS regardless of when you are drafting and sending the mail.\n\nSo, for Gut Microbiome test, 1 slot to be assigned. The first slot assigned to test eMedic by control tower, which will be considered by the logs team for dropping the kit at the customer's address, and the second slot will be for actual collection, which can be directly assigned.\n\nEmail to the control tower has to be scheduled 5-6 hrs before the first slot scheduled for dummy medic.`
    },
  // Example: test/profile aliases
  "cbc": { type: "test", apiQuery: "cbc", aliases: ["complete blood count", "cbc test"] },
  "lft": { type: "profile", apiQuery: "liver function test", aliases: ["liver profile", "lft profile"] },

  // Example: SOP/process knowledge
  "sample collection": { type: "sop", content: "Follow the standard sample collection SOP: ..." },
  "report delivery": { type: "process", content: "Reports are delivered via email and app within 24 hours." },

  // Example: product knowledge
  "orange health advantage": { type: "product", content: "Orange Health Advantage is our premium membership..." },

  // Example: package mapping
  "full body checkup": { type: "package", apiQuery: "full body checkup", aliases: ["complete health check", "master health checkup"] },

  // Full Body Checkup variants
  "full body checkup - basic": {
    type: "package",
    aliases: ["full body basic", "basic body check"],
    content: {
      packageName: "Full Body Checkup - Basic",
      tests: [
        "Liver Function Test (LFT)",
        "Kidney Function Test with Electrolytes (KFT / RFT)",
        "Cholesterol Total",
        "Complete Blood Count (CBC)",
        "Thyroid Function Test (TFT)",
        "Urine Complete Analysis",
        "Blood Sugar"
      ],
      testsMetadata: [
        { testName: "Liver Function Test (LFT)", sampleType: "Blood" },
        { testName: "Kidney Function Test with Electrolytes (KFT / RFT)", sampleType: "Blood" },
        { testName: "Cholesterol Total", sampleType: "Blood" },
        { testName: "Complete Blood Count (CBC)", sampleType: "Blood" },
        { testName: "Thyroid Function Test (TFT)", sampleType: "Blood" },
        { testName: "Urine Complete Analysis", sampleType: "Urine" },
        { testName: "Blood Sugar", sampleType: "Blood" }
      ],
      consumerPrice: 1099,
      labTatString: "Reports Within 6 hours",
      sampleCollection: "BLOOD"
    }
  },
  "full body checkup - essential": {
    type: "package",
    aliases: ["full body essential"],
    content: {
      packageName: "Full Body Checkup - Essential",
      tests: [
        "Liver Function Test (LFT)",
        "Kidney Function Test with Electrolytes (KFT / RFT)",
        "Thyroid Function Test (TFT)",
        "Glycosylated Haemoglobin (HbA1c)",
        "Vitamin D, Total",
        "Complete Blood Count (CBC) with ESR",
        "Urine Complete Analysis",
        "Vitamin B12",
        "Blood Sugar",
        "Lipid Profile"
      ],
      testsMetadata: [
        { testName: "Liver Function Test (LFT)", sampleType: "Blood" },
        { testName: "Kidney Function Test with Electrolytes (KFT / RFT)", sampleType: "Blood" },
        { testName: "Thyroid Function Test (TFT)", sampleType: "Blood" },
        { testName: "Glycosylated Haemoglobin (HbA1c)", sampleType: "Blood" },
        { testName: "Vitamin D, Total", sampleType: "Blood" },
        { testName: "Complete Blood Count (CBC) with ESR", sampleType: "Blood" },
        { testName: "Urine Complete Analysis", sampleType: "Urine" },
        { testName: "Vitamin B12", sampleType: "Blood" },
        { testName: "Blood Sugar", sampleType: "Blood" },
        { testName: "Lipid Profile", sampleType: "Blood" }
      ],
      consumerPrice: 1599,
      labTatString: "Reports Within 6 hours",
      notes: "Vitamin D and Vitamin B12 tests might require additional time for processing, Upto 04 Hours",
      sampleCollection: "BLOOD"
    }
  },
  "full body checkup - advanced": {
    type: "package",
    aliases: ["full body advanced"],
    content: {
      packageName: "Full Body Checkup - Advanced",
      tests: [
        "Liver Function Test (LFT)",
        "Kidney Function Test with Electrolytes (KFT / RFT)",
        "Microalbumin Creatinine Ratio, Urine",
        "Vitamin B12",
        "Thyroid Function Test (TFT)",
        "C-Reactive Protein (CRP)",
        "Glycosylated Haemoglobin (HbA1c)",
        "Vitamin D, Total",
        "Complete Blood Count (CBC)",
        "Urine Complete Analysis",
        "Iron Profile",
        "Blood Sugar",
        "Lipid Profile"
      ],
      testsMetadata: [
        { testName: "Liver Function Test (LFT)", sampleType: "Blood" },
        { testName: "Kidney Function Test with Electrolytes (KFT / RFT)", sampleType: "Blood" },
        { testName: "Microalbumin Creatinine Ratio, Urine", sampleType: "Urine" },
        { testName: "Vitamin B12", sampleType: "Blood" },
        { testName: "Thyroid Function Test (TFT)", sampleType: "Blood" },
        { testName: "C-Reactive Protein (CRP)", sampleType: "Blood" },
        { testName: "Glycosylated Haemoglobin (HbA1c)", sampleType: "Blood" },
        { testName: "Vitamin D, Total", sampleType: "Blood" },
        { testName: "Complete Blood Count (CBC)", sampleType: "Blood" },
        { testName: "Urine Complete Analysis", sampleType: "Urine" },
        { testName: "Iron Profile", sampleType: "Blood" },
        { testName: "Blood Sugar", sampleType: "Blood" },
        { testName: "Lipid Profile", sampleType: "Blood" }
      ],
      consumerPrice: 2799,
      labTatString: "Reports Within 6 hours",
      notes: "Vitamin D and Vitamin B12 tests might require additional time for processing, Upto 04 Hours",
      sampleCollection: "BLOOD"
    }
  },
  "full body checkup - comprehensive": {
    type: "package",
    aliases: ["full body comprehensive"],
    content: {
      packageName: "Full Body Checkup - Comprehensive",
      tests: [
        "Amylase",
        "C-Reactive Protein (CRP)",
        "High Sensitive C-Reactive Protein (HSCRP)",
        "Glycosylated Haemoglobin (HbA1c)",
        "Immunoglobulin E (Total IgE)",
        "Iron Profile",
        "Lipase",
        "Lipid Profile",
        "Liver Function Test (LFT)",
        "Magnesium (Mg)",
        "Microalbumin Creatinine Ratio, Urine",
        "Blood Sugar",
        "Thyroid Function Test (TFT)",
        "Urine Complete Analysis",
        "Vitamin B12",
        "Vitamin D, Total",
        "Kidney Function Test with Electrolytes (KFT / RFT)",
        "APO-A1/APO-B Ratio",
        "Complete Blood Count (CBC) with ESR"
      ],
      testsMetadata: [
        { testName: "Amylase", sampleType: "Blood" },
        { testName: "C-Reactive Protein (CRP)", sampleType: "Blood" },
        { testName: "High Sensitive C-Reactive Protein (HSCRP)", sampleType: "Blood" },
        { testName: "Glycosylated Haemoglobin (HbA1c)", sampleType: "Blood" },
        { testName: "Immunoglobulin E (Total IgE)", sampleType: "Blood" },
        { testName: "Iron Profile", sampleType: "Blood" },
        { testName: "Lipase", sampleType: "Blood" },
        { testName: "Lipid Profile", sampleType: "Blood" },
        { testName: "Liver Function Test (LFT)", sampleType: "Blood" },
        { testName: "Magnesium (Mg)", sampleType: "Blood" },
        { testName: "Microalbumin Creatinine Ratio, Urine", sampleType: "Urine" },
        { testName: "Blood Sugar", sampleType: "Blood" },
        { testName: "Thyroid Function Test (TFT)", sampleType: "Blood" },
        { testName: "Urine Complete Analysis", sampleType: "Urine" },
        { testName: "Vitamin B12", sampleType: "Blood" },
        { testName: "Vitamin D, Total", sampleType: "Blood" },
        { testName: "Kidney Function Test with Electrolytes (KFT / RFT)", sampleType: "Blood" },
        { testName: "APO-A1/APO-B Ratio", sampleType: "Blood" },
        { testName: "Complete Blood Count (CBC) with ESR", sampleType: "Blood" }
      ],
      consumerPrice: 3899,
      labTatString: "Reports Within 12 hours"
    }
  },
  "full body checkup - complete": {
    type: "package",
    aliases: ["full body complete"],
    content: {
      packageName: "Full Body Checkup - Complete",
      tests: ["Comprehensive panel plus additional cardiac and metabolic markers"],
      testsMetadata: [
        { testName: "Comprehensive panel plus additional cardiac and metabolic markers", sampleType: "Blood" }
      ],
      consumerPrice: 4999,
      labTatString: "Reports Within 12 hours",
      notes: "Vitamin D and Vitamin B12 may require additional processing time (Up to 04 hours in Bangalore)."
    }
  },


  // STD Test Packages
  "std test package - essential": {
    type: "package",
    aliases: ["std essential", "std package essential"],
    content: {
      packageName: "STD Test Package - Essential (SEROLOGY TEST)",
      tests: ["HBsAg (ECLIA)", "VDRL Qualitative", "Hepatitis C Virus antibodies (Anti HCV) - Total", "HIV 1&2 (ECLIA)"],
      testsMetadata: [
        { testName: "HBsAg (ECLIA)", sampleType: "Blood", method: "ECLIA" },
        { testName: "VDRL Qualitative", sampleType: "Blood", method: "Serology" },
        { testName: "Hepatitis C Virus antibodies (Anti HCV) - Total", sampleType: "Blood", method: "Serology" },
        { testName: "HIV 1&2 (ECLIA)", sampleType: "Blood", method: "ECLIA" }
      ],
      consumerPrice: 1499,
      labTatString: "Reports Within 12 hours",
      sampleCollection: "BLOOD",
      notes: "SEROLOGY TEST"
    }
  },
  "std test package - advanced": {
    type: "package",
    aliases: ["std advanced"],
    content: {
      packageName: "STD Test Package - Advanced",
      tests: [
        "Chlamydia Trachomatis antibody IgG",
        "Hepatitis C Virus antibodies (Anti HCV) - Total",
        "Anti Treponema Pallidum (TPAB) antibody",
        "HBsAg (ECLIA)",
        "Herpes Simplex Virus (HSV) Type I & II antibodies IgG",
        "Herpes Simplex Virus (HSV) Type I & II antibodies IgM",
        "HIV 1&2 (ECLIA)",
        "VDRL Qualitative",
        "Treponema Pallidum Haemagglutination Assay (TPHA)"
      ],
      testsMetadata: [
        { testName: "Chlamydia Trachomatis antibody IgG", sampleType: "Blood", method: "Serology" },
        { testName: "Hepatitis C Virus antibodies (Anti HCV) - Total", sampleType: "Blood", method: "Serology" },
        { testName: "Anti Treponema Pallidum (TPAB) antibody", sampleType: "Blood", method: "Serology" },
        { testName: "HBsAg (ECLIA)", sampleType: "Blood", method: "ECLIA" },
        { testName: "Herpes Simplex Virus (HSV) Type I & II antibodies IgG", sampleType: "Blood", method: "Serology" },
        { testName: "Herpes Simplex Virus (HSV) Type I & II antibodies IgM", sampleType: "Blood", method: "Serology" },
        { testName: "HIV 1&2 (ECLIA)", sampleType: "Blood", method: "ECLIA" },
        { testName: "VDRL Qualitative", sampleType: "Blood", method: "Serology" },
        { testName: "Treponema Pallidum Haemagglutination Assay (TPHA)", sampleType: "Blood", method: "Serology" }
      ],
      consumerPrice: 3999,
      labTatString: "Reports Within 12 hours",
      sampleCollection: "BLOOD"
    }
  },
  "std test package - comprehensive": {
    type: "package",
    aliases: ["std comprehensive"],
    content: {
      packageName: "STD Test Package - Comprehensive",
      tests: [
        "Chlamydia Trachomatis antibody IgG",
        "Chlamydia Trachomatis antibody IgM",
        "Gonorrhoea PCR (Qualitative)",
        "Hepatitis C Virus antibodies (Anti HCV) - Total",
        "Anti Treponema Pallidum (TPAB) antibody",
        "HBsAg (ECLIA)",
        "Herpes Simplex Virus (HSV) Type I & II antibodies IgG",
        "Herpes Simplex Virus (HSV) Type I & II antibodies IgM",
        "HIV 1&2 (ECLIA)",
        "VDRL Qualitative",
        "Treponema Pallagglutination Assay (TPHA)"
      ],
      testsMetadata: [
        { testName: "Chlamydia Trachomatis antibody IgG", sampleType: "Blood", method: "Serology" },
        { testName: "Chlamydia Trachomatis antibody IgM", sampleType: "Blood", method: "Serology" },
        { testName: "Gonorrhoea PCR (Qualitative)", sampleType: "Swab/Urine", method: "PCR" },
        { testName: "Hepatitis C Virus antibodies (Anti HCV) - Total", sampleType: "Blood", method: "Serology" },
        { testName: "Anti Treponema Pallidum (TPAB) antibody", sampleType: "Blood", method: "Serology" },
        { testName: "HBsAg (ECLIA)", sampleType: "Blood", method: "ECLIA" },
        { testName: "Herpes Simplex Virus (HSV) Type I & II antibodies IgG", sampleType: "Blood", method: "Serology" },
        { testName: "Herpes Simplex Virus (HSV) Type I & II antibodies IgM", sampleType: "Blood", method: "Serology" },
        { testName: "HIV 1&2 (ECLIA)", sampleType: "Blood", method: "ECLIA" },
        { testName: "VDRL Qualitative", sampleType: "Blood", method: "Serology" },
        { testName: "Treponema Pallagglutination Assay (TPHA)", sampleType: "Blood", method: "Serology" }
      ],
      consumerPrice: 7999,
      labTatString: "Reports Within 12 hours",
      sampleCollection: "BLOOD + URINE collection"
    }
  },

  // Fever packages (summary)
  "fever packages": {
    type: "package",
    aliases: ["fever panel", "monsoon fever panel"],
    content: {
      packageName: "Fever Packages (group)",
      tests: ["LFT", "CBC with ESR", "Dengue profile (ELISA)", "Malaria smear (MP)", "Chikungunya IgM", "Widal", "Urine Complete Analysis", "Influenza/COVID PCR where applicable"],
      testsMetadata: [
        { testName: "LFT", sampleType: "Blood" },
        { testName: "CBC with ESR", sampleType: "Blood" },
        { testName: "Dengue profile (ELISA)", sampleType: "Blood", method: "ELISA" },
        { testName: "Malaria smear (MP)", sampleType: "Blood", method: "Microscopy" },
        { testName: "Chikungunya IgM", sampleType: "Blood", method: "Serology" },
        { testName: "Widal", sampleType: "Blood", method: "Serology" },
        { testName: "Urine Complete Analysis", sampleType: "Urine" },
        { testName: "Influenza/COVID PCR where applicable", sampleType: "Respiratory/Swab", method: "PCR" }
      ],
      notes: "Representative packages: Monsoon Fever Panel, Fever Profile - Comprehensive, Fever Profile for Malaria, Influenza Fever Panel, Flu & COVID Fever Panel. Report times vary by panel (6‚Äì48 hours)."
    }
  },

  // Customer Service / FAQ mappings (flexible aliases)
  "same patient different address": {
    type: "process",
    aliases: ["same patient two addresses", "same patient different address for two tests", "two address same patient"],
    content: "Book 2 separate orders for each test with the respective addresses. Both can be scheduled on the same day; ensure slots and collections are independent."
  },
  "when to transfer chats": {
    type: "process",
    aliases: ["transfer chats", "when to transfer chat", "chat transfer escalation"],
    content: "Transfer chats when the customer escalates about an existing order (e.g., 'my reports are not correct', 'I want to complain') or has concerns about an active order (e.g., 'When will I get my report', 'eMedic is late')."
  },
  "international number booking": {
    type: "faq",
    aliases: ["international number", "can i book international number", "book for international number"],
    content: "No. Ask for an Indian phone number because eMedic will call the patient and details will be shared via WhatsApp."
  },
  "ecg slots family booking": {
    type: "faq",
    aliases: ["ecg slots family", "ecg same family multiple patients", "ecg 3 patients same family"],
    content: "Book 3 slots (one per patient) and fill forms for each patient separately."
  },
  "coagulation profile includes": {
    type: "faq",
    aliases: ["what does coagulation profile include", "coagulation profile includes what"],
    content: "PT/INR, aPTT, Platelet Count (suggest CBC), Fibrinogen, D-Dimer."
  },
  "clotting assay availability": {
    type: "faq",
    aliases: ["do you have clotting assay", "protein s protein c clotting assay"],
    content: "Yes ‚Äî we offer Protein S and Protein C clotting assays."
  },
  "clotting factors tests": {
    type: "faq",
    aliases: ["clotting factors", "do you have clotting factors tests"],
    content: "Yes ‚Äî we have Factor V and Factor VIII tests and other specific factor assays."
  },
  "ecg slot availability": {
    type: "faq",
    aliases: ["ecg slot available", "ecg slot timing"],
    content: "ECG slots available only till 1:30 PM and only at BLR and MUM locations."
  },
  "hiv std consent form": {
    type: "process",
    aliases: ["hiv consent", "std consent form", "hiv/std consent"],
    content: "Yes. eMedic will carry a physical consent form that the patient must sign and a government ID must be shown before sample collection."
  },
  "is rft kft same": {
    type: "faq",
    aliases: ["is rft and kft same", "rft vs kft"],
    content: "Yes, RFT and KFT are the same (Kidney Function Test)."
  },
  "kft electrolytes list": {
    type: "faq",
    aliases: ["electrolytes in kft", "which electrolytes in kft"],
    content: "Electrolytes included: Phosphate/Phosphorus, Calcium, Sodium, Potassium, Chloride."
  },
  "ecg booking sop": {
    type: "sop",
    aliases: ["ecg booking", "book ecg", "ecg booking sop"],
    content: "Confirm slot on ECG tracker ‚Üí Update Google Form ‚Üí Force-assign confirmed slot in OMS. ECG eligibility: only for individuals aged 14 years and above."
  },
  "serology test booking": {
    type: "faq",
    aliases: ["serology test", "serology booking", "book serology"],
    content: "Book the STD Essential Package; serology includes HBsAg, VDRL Qualitative, Hepatitis C, HIV 1 & 2."
  },
  "tsh vs tsh ultrasensitive": {
    type: "faq",
    aliases: ["is tsh and tsh ultrasensitive same", "tsh ultrasensitive"],
    content: "No. We perform only standard TSH; TSH Ultrasensitive is different and not performed at OHL currently."
  },
  "gtt 100g glucose provision": {
    type: "process",
    aliases: ["100g glucose for gtt", "provide 100 g glucose gtt"],
    content: "Yes. After booking, raise a ticket to logistics to provide two 50g glucose packs and attach prescription to the ticket."
  },
  "iron studies ferritin request": {
    type: "process",
    aliases: ["iron studies with ferritin", "book iron profile and ferritin"],
    content: "Book both: 1) Iron Profile and 2) Ferritin (separately)."
  },
  "change address after booking": {
    type: "process",
    aliases: ["change address after booking", "can address be changed"],
    content: "Yes, address can be changed if only ONE slot is booked and no sample has been collected. For multiple slots cancel & rebook if no collection. If sample collected, use 'Reassign Task' workflow where applicable."
  },
  "is ferritin included in iron profile": {
    type: "faq",
    aliases: ["is ferritin included in iron profile", "ferritin in iron profile"],
    content: "No ‚Äî Ferritin is a separate test and must be added explicitly."
  },
  "do you have bun": {
    type: "faq",
    aliases: ["do you have bun", "blood urea nitrogen available"],
    content: "Yes ‚Äî BUN (Blood Urea Nitrogen) is part of KFT."
  },
  "cbp includes what": {
    type: "faq",
    aliases: ["cbp includes what", "what is cbp"],
    content: "CBP includes CBC + ESR + Peripheral Smear."
  },
  "pcr vs rapid testing": {
    type: "faq",
    aliases: ["difference between pcr and rapid", "pcr vs rapid"],
    content: "Rapid: antigen-based, quick, shows presence/absence. PCR: nucleic acid amplification, more sensitive, detects low viral loads."
  },
  "specific hiv p24 antigen": {
    type: "faq",
    aliases: ["hiv p24 antigen specific", "hiv p24"],
    content: "Use the HIV DUO test ‚Äî P24 antigen is covered but not reported separately."
  },
  "tpha titer request": {
    type: "faq",
    aliases: ["tpha titer values", "tpha titers"],
    content: "TPHA at Orange Health is a QUALITATIVE test; titer values are not provided."
  },
  "hb electrophoresis purpose": {
    type: "faq",
    aliases: ["abnormal hb studies", "hb electrophoresis purpose"],
    content: "HB Electrophoresis is used to diagnose Thalassemia and Sickle Cell Anemia."
  },
  "haemoglobin cyanmethemoglobin method": {
    type: "faq",
    aliases: ["haemoglobin cyanmethemoglobin", "hb cyanmethemoglobin method"],
    content: "No. We use Cyanide-free SLS method for Hemoglobin at our labs. Mention the method if customer asks."
  },
  "cancellation charge prepaid": {
    type: "faq",
    aliases: ["cancellation charge prepaid", "is cancellation charge for prepaid orders"],
    content: "No ‚Äî there is no cancellation charge for prepaid orders."
  },
  "tlc vs twbc same": {
    type: "faq",
    aliases: ["total leukocyte count same as twbc", "tc vs twbc"],
    content: "Yes ‚Äî Total Leukocyte Count (TLC) and Total WBC Count (TC) are the same; WBC is also called Leukocyte."
  },
  "monomeric prolactin availability": {
    type: "faq",
    aliases: ["monomeric prolactin test", "do you perform monomeric prolactin"],
    content: "No ‚Äî we do not have a separate monomeric prolactin test; we offer total Prolactin only."
  },
  "egfr vs dgfr": {
    type: "faq",
    aliases: ["egfr vs dgfr", "is egfr and dgfr same"],
    content: "No. eGFR is estimated (affected by muscle mass, diet, age) good for routine checks; dGFR is directly measured and more precise."
  },
  "folic acid test alias": {
    type: "faq",
    aliases: ["folic acid test", "what is folic acid test"],
    content: "Book Vitamin B9 test ‚Äî Vitamin B9 is Folic Acid. Do NOT confuse with RBC folate."
  },
  "anc test meaning": {
    type: "faq",
    aliases: ["what is anc test", "anc test"],
    content: "ANC stands for Antenatal Care Test."
  },
  "lh fsh ratio includes values": {
    type: "faq",
    aliases: ["lh fsh ratio includes values", "does lh fsh include individual values"],
    content: "Yes ‚Äî LH:FSH ratio test includes individual LH and FSH values plus the calculated ratio."
  },
  "cgsh empanelled": {
    type: "faq",
    aliases: ["are we empanelled under cghs", "cghs empanelled"],
    content: "No ‚Äî Orange Health is not empanelled under CGHS."
  },
  "individual lh and fsh tests": {
    type: "faq",
    aliases: ["individual lh fsh available", "do you have lh and fsh individual"],
    content: "Yes ‚Äî we offer individual LH and FSH tests as well as the LH:FSH ratio."
  },
  "hiv 4th gen p24": {
    type: "faq",
    aliases: ["hiv 4th gen p24", "hiv duotest p24"],
    content: "Book HIV DUO ‚Äî P24 antigen is checked in the DUO but may not be reported separately."
  },
  "viral marker tests list": {
    type: "faq",
    aliases: ["viral marker tests", "triple h test"],
    content: "Viral marker panel includes: HIV, Hepatitis B (HBsAg), Hepatitis C (HCV)."
  },
  "celiac profile tests": {
    type: "faq",
    aliases: ["celiac profile", "celiac profile test"],
    content: "Includes Anti-tissue transglutaminase (tTG-IgA), Anti Gliadin Deamidated Peptide antibody (IgA & IgG), and Anti-endomysial Ab."
  },
  "throat swab gram stain booking": {
    type: "process",
    aliases: ["throat swab gram stain", "book throat swab gram staining"],
    content: "Book Gram Staining and Throat Swab Culture; note in OH instructions: collect throat swab for Gram staining."
  },
  "vaccination availability": {
    type: "faq",
    aliases: ["do you provide vaccine", "vaccination available"],
    content: "No ‚Äî we do not provide vaccinations."
  },
  "stool recollection_charge": {
    type: "faq",
    aliases: ["stool recollection charge", "is stool recollection chargeable"],
    content: "No ‚Äî stool recollection is not chargeable."
  },
  "walk-in labs cities": {
    type: "faq",
    aliases: ["walk-in labs cities", "in which cities walk-in labs available"],
    content: "Walk-in labs available in NCR, HYD, BLR."
  },
  "regional language sop": {
    type: "process",
    aliases: ["regional language sop", "sop for regional language"],
    content: "Follow the standard SOP: connect the customer with a regional language speaker or use translation assistance per contact center procedures."
  },
  "coupon offer billing": {
    type: "faq",
    aliases: ["coupon offer billing", "does coupon show on invoice"],
    content: "Yes ‚Äî applied coupons and discounts are visible on the final invoice showing both actual and payable amounts."
  },
  "vitamin b complex availability": {
    type: "faq",
    aliases: ["vitamin b7 b9 available", "do you have vitamin b7 b9"],
    content: "Yes ‚Äî we offer Vitamin B complex which includes B1, B2, B3, B5, B6, B7, B9, B12."
  },

  "monsoon fever panel": {
    type: "package",
    aliases: ["monsoon fever panel", "monsoon fever"],
    content: {
      packageName: "Monsoon Fever Panel",
      tests: ["Liver Function Test (LFT)", "Smear for Malarial Parasite (MP)", "Dengue profile (ELISA)", "Chikungunya IgM", "Complete Blood Count (CBC) with ESR", "Urine Complete Analysis", "Widal Test (Slide Method)"],
      testsMetadata: [
        { testName: "Liver Function Test (LFT)", sampleType: "Blood" },
        { testName: "Smear for Malarial Parasite (MP)", sampleType: "Blood", method: "Microscopy" },
        { testName: "Dengue profile (ELISA)", sampleType: "Blood", method: "ELISA" },
        { testName: "Chikungunya IgM", sampleType: "Blood", method: "Serology" },
        { testName: "Complete Blood Count (CBC) with ESR", sampleType: "Blood" },
        { testName: "Urine Complete Analysis", sampleType: "Urine" },
        { testName: "Widal Test (Slide Method)", sampleType: "Blood", method: "Serology" }
      ],
      consumerPrice: 1599,
      labTatString: "",
      sampleCollection: "BLOOD"
    }
  },

  "fever profile - comprehensive": {
    type: "package",
    aliases: ["fever comprehensive", "fever profile comprehensive"],
    content: {
      packageName: "Fever Profile - Comprehensive",
      tests: ["Liver Function Test (LFT)", "Smear for Malarial Parasite (MP)", "COVID -19 RT PCR", "Dengue profile (ELISA)", "Chikungunya IgM", "Complete Blood Count (CBC) with ESR", "Urine Complete Analysis", "Widal Test (Slide Method)"],
      testsMetadata: [
        { testName: "Liver Function Test (LFT)", sampleType: "Blood" },
        { testName: "Smear for Malarial Parasite (MP)", sampleType: "Blood", method: "Microscopy" },
        { testName: "COVID -19 RT PCR", sampleType: "Respiratory/Swab", method: "PCR" },
        { testName: "Dengue profile (ELISA)", sampleType: "Blood", method: "ELISA" },
        { testName: "Chikungunya IgM", sampleType: "Blood", method: "Serology" },
        { testName: "Complete Blood Count (CBC) with ESR", sampleType: "Blood" },
        { testName: "Urine Complete Analysis", sampleType: "Urine" },
        { testName: "Widal Test (Slide Method)", sampleType: "Blood", method: "Serology" }
      ],
      consumerPrice: 1999,
      labTatString: "Reports within 48 hours",
      sampleCollection: "BLOOD"
    }
  },

  "fever profile for malaria": {
    type: "package",
    aliases: ["fever malaria", "malaria fever panel"],
    content: {
      packageName: "Fever Profile for Malaria",
      tests: ["Complete Blood Count (CBC)", "Smear for Malarial Parasite (MP)", "Widal Test (Slide Method)"],
      testsMetadata: [
        { testName: "Complete Blood Count (CBC)", sampleType: "Blood" },
        { testName: "Smear for Malarial Parasite (MP)", sampleType: "Blood", method: "Microscopy" },
        { testName: "Widal Test (Slide Method)", sampleType: "Blood", method: "Serology" }
      ],
      consumerPrice: 499,
      labTatString: "Reports within 6 hours",
      sampleCollection: "BLOOD"
    }
  },

  "influenza fever panel": {
    type: "package",
    aliases: ["influenza panel", "influenza fever"],
    content: {
      packageName: "Influenza Fever Panel",
      tests: ["Influenza A", "Influenza B", "H1N1", "H3N2"],
      testsMetadata: [
        { testName: "Influenza A", sampleType: "Respiratory/Swab" },
        { testName: "Influenza B", sampleType: "Respiratory/Swab" },
        { testName: "H1N1", sampleType: "Respiratory/Swab" },
        { testName: "H3N2", sampleType: "Respiratory/Swab" }
      ],
      consumerPrice: 4290,
      labTatString: "Qualitative Test - Reports within 19 hours",
      sampleCollection: "Respiratory/Swab"
    }
  },

  "flu & covid fever panel": {
    type: "package",
    aliases: ["flu covid panel", "flu and covid panel"],
    content: {
      packageName: "Flu & COVID Fever Panel",
      tests: ["Influenza Virus Panel - Real Time PCR", "COVID -19 RT PCR"],
      testsMetadata: [
        { testName: "Influenza Virus Panel - Real Time PCR", sampleType: "Respiratory/Swab", method: "PCR" },
        { testName: "COVID -19 RT PCR", sampleType: "Respiratory/Swab", method: "PCR" }
      ],
      consumerPrice: 4999,
      labTatString: "Reports Within Tue, 14 Oct",
      sampleCollection: "Respiratory/Swab"
    }
  },

  // Women & Men Health package summaries
  "women health checkup - comprehensive": {
    type: "package",
    aliases: ["women health comprehensive", "women comprehensive"],
    content: {
      packageName: "Women Health Checkup - Comprehensive",
      tests: [
        "Thyroid Function Test (TFT)", "Prolactin", "Urine Complete Analysis", "Vitamin B12", "Cancer Antigen 125 (CA 125)",
        "Testosterone - Total", "Estradiol (E2)", "Ferritin", "Glycosylated Haemoglobin (HbA1c)", "CA 15.3, Breast Cancer Marker",
        "Vitamin D, Total", "Total Iron", "LH:FSH ratio", "Lipid Profile", "Liver Function Test (LFT)",
        "Magnesium (Mg)", "Kidney Function Test with Electrolytes (KFT / RFT)", "Progesterone", "Complete Blood Count (CBC) with ESR", "Blood Sugar"
      ],
      testsMetadata: [
        { testName: "Thyroid Function Test (TFT)", sampleType: "Blood" },
        { testName: "Prolactin", sampleType: "Blood" },
        { testName: "Urine Complete Analysis", sampleType: "Urine" },
        { testName: "Vitamin B12", sampleType: "Blood" },
        { testName: "Cancer Antigen 125 (CA 125)", sampleType: "Blood", method: "Tumor marker" },
        { testName: "Testosterone - Total", sampleType: "Blood" },
        { testName: "Estradiol (E2)", sampleType: "Blood" },
        { testName: "Ferritin", sampleType: "Blood" },
        { testName: "Glycosylated Haemoglobin (HbA1c)", sampleType: "Blood" },
        { testName: "CA 15.3, Breast Cancer Marker", sampleType: "Blood", method: "Tumor marker" },
        { testName: "Vitamin D, Total", sampleType: "Blood" },
        { testName: "Total Iron", sampleType: "Blood" },
        { testName: "LH:FSH ratio", sampleType: "Blood" },
        { testName: "Lipid Profile", sampleType: "Blood" },
        { testName: "Liver Function Test (LFT)", sampleType: "Blood" },
        { testName: "Magnesium (Mg)", sampleType: "Blood" },
        { testName: "Kidney Function Test with Electrolytes (KFT / RFT)", sampleType: "Blood" },
        { testName: "Progesterone", sampleType: "Blood" },
        { testName: "Complete Blood Count (CBC) with ESR", sampleType: "Blood" },
        { testName: "Blood Sugar", sampleType: "Blood" }
      ],
      consumerPrice: 3799,
      labTatString: "Reports Within 12 hours",
      sampleCollection: "BLOOD"
    }
  },
  "men health checkup - comprehensive": {
    type: "package",
    aliases: ["men health comprehensive", "men comprehensive"],
    content: {
      packageName: "Men Health Checkup - Comprehensive",
      tests: ["Liver Function Test (LFT)", "Kidney Function Test with Electrolytes (KFT / RFT)", "Vitamin B12", "Thyroid Function Test (TFT)", "Testosterone - Total", "Glycosylated Haemoglobin (HbA1c)", "PSA (where relevant)", "Lipid Profile"],
      testsMetadata: [
        { testName: "Liver Function Test (LFT)", sampleType: "Blood" },
        { testName: "Kidney Function Test with Electrolytes (KFT / RFT)", sampleType: "Blood" },
        { testName: "Vitamin B12", sampleType: "Blood" },
        { testName: "Thyroid Function Test (TFT)", sampleType: "Blood" },
        { testName: "Testosterone - Total", sampleType: "Blood" },
        { testName: "Glycosylated Haemoglobin (HbA1c)", sampleType: "Blood" },
        { testName: "PSA (where relevant)", sampleType: "Blood" },
        { testName: "Lipid Profile", sampleType: "Blood" }
      ],
      labTatString: "Reports Within 12 hours",
      notes: "Price: variable."
    }
  },

  "women health checkup - essential": {
    type: "package",
    aliases: ["women essential", "women health essential"],
    content: {
      packageName: "Women Health Checkup - Essential",
      tests: ["Thyroid Function Test (TFT)", "Glycosylated Haemoglobin (HbA1c)", "Vitamin D, Total", "Complete Blood Count (CBC) with ESR", "Urine Complete Analysis", "Vitamin B12", "Blood Sugar", "LH:FSH ratio", "Lipid Profile"],
      testsMetadata: [
        { testName: "Thyroid Function Test (TFT)", sampleType: "Blood" },
        { testName: "Glycosylated Haemoglobin (HbA1c)", sampleType: "Blood" },
        { testName: "Vitamin D, Total", sampleType: "Blood" },
        { testName: "Complete Blood Count (CBC) with ESR", sampleType: "Blood" },
        { testName: "Urine Complete Analysis", sampleType: "Urine" },
        { testName: "Vitamin B12", sampleType: "Blood" },
        { testName: "Blood Sugar", sampleType: "Blood" },
        { testName: "LH:FSH ratio", sampleType: "Blood" },
        { testName: "Lipid Profile", sampleType: "Blood" }
      ],
      consumerPrice: 1599,
      labTatString: "Reports Within 12 hours",
      sampleCollection: "BLOOD"
    }
  },

  "women health checkup - advanced": {
    type: "package",
    aliases: ["women advanced", "women health advanced", "womens health checkup - advanced"],
    content: {
      packageName: "Women Health Checkup - Advanced",
      tests: ["Liver Function Test (LFT)", "Estradiol (E2)", "Testosterone - Total", "Ferritin", "Thyroid Function Test (TFT)", "Glycosylated Haemoglobin (HbA1c)", "Progesterone", "Vitamin D, Total", "Complete Blood Count (CBC) with ESR", "Urine Complete Analysis", "Total Iron", "Vitamin B12", "Blood Sugar", "LH:FSH ratio", "Lipid Profile"],
      testsMetadata: [
        { testName: "Liver Function Test (LFT)", sampleType: "Blood" },
        { testName: "Estradiol (E2)", sampleType: "Blood" },
        { testName: "Testosterone - Total", sampleType: "Blood" },
        { testName: "Ferritin", sampleType: "Blood" },
        { testName: "Thyroid Function Test (TFT)", sampleType: "Blood" },
        { testName: "Glycosylated Haemoglobin (HbA1c)", sampleType: "Blood" },
        { testName: "Progesterone", sampleType: "Blood" },
        { testName: "Vitamin D, Total", sampleType: "Blood" },
        { testName: "Complete Blood Count (CBC) with ESR", sampleType: "Blood" },
        { testName: "Urine Complete Analysis", sampleType: "Urine" },
        { testName: "Total Iron", sampleType: "Blood" },
        { testName: "Vitamin B12", sampleType: "Blood" },
        { testName: "Blood Sugar", sampleType: "Blood" },
        { testName: "LH:FSH ratio", sampleType: "Blood" },
        { testName: "Lipid Profile", sampleType: "Blood" }
      ],
      consumerPrice: 2699,
      labTatString: "Reports Within 12 hours",
      sampleCollection: "BLOOD"
    }
  },

  "senior citizen checkup - female": {
    type: "package",
    aliases: ["senior female checkup", "senior citizen female"],
    content: {
      packageName: "Senior Citizen Checkup - Female",
      tests: ["Thyroid Function Test (TFT)", "Amylase", "Urine Complete Analysis", "Vitamin B12", "Cancer Antigen 125 (CA 125)", "High Sensitive C-Reactive Protein (HSCRP)", "Glycosylated Haemoglobin (HbA1c)", "CA 15.3, Breast Cancer Marker", "Vitamin D, Total", "Iron Profile", "Lipase", "Lipid Profile", "Liver Function Test (LFT)", "Magnesium (Mg)", "Kidney Function Test with Electrolytes (KFT / RFT)", "APO-A1/APO-B Ratio", "Complete Blood Count (CBC) with ESR", "Blood Sugar", "Rheumatoid Factor (RA) Quantitative"],
      testsMetadata: [
        { testName: "Thyroid Function Test (TFT)", sampleType: "Blood" },
        { testName: "Amylase", sampleType: "Blood" },
        { testName: "Urine Complete Analysis", sampleType: "Urine" },
        { testName: "Vitamin B12", sampleType: "Blood" },
        { testName: "Cancer Antigen 125 (CA 125)", sampleType: "Blood", method: "Tumor marker" },
        { testName: "High Sensitive C-Reactive Protein (HSCRP)", sampleType: "Blood" },
        { testName: "Glycosylated Haemoglobin (HbA1c)", sampleType: "Blood" },
        { testName: "CA 15.3, Breast Cancer Marker", sampleType: "Blood", method: "Tumor marker" },
        { testName: "Vitamin D, Total", sampleType: "Blood" },
        { testName: "Iron Profile", sampleType: "Blood" },
        { testName: "Lipase", sampleType: "Blood" },
        { testName: "Lipid Profile", sampleType: "Blood" },
        { testName: "Liver Function Test (LFT)", sampleType: "Blood" },
        { testName: "Magnesium (Mg)", sampleType: "Blood" },
        { testName: "Kidney Function Test with Electrolytes (KFT / RFT)", sampleType: "Blood" },
        { testName: "APO-A1/APO-B Ratio", sampleType: "Blood" },
        { testName: "Complete Blood Count (CBC) with ESR", sampleType: "Blood" },
        { testName: "Blood Sugar", sampleType: "Blood" },
        { testName: "Rheumatoid Factor (RA) Quantitative", sampleType: "Blood" }
      ],
      consumerPrice: 4299,
      labTatString: "Reports Within 12 hours",
      sampleCollection: "BLOOD"
    }
  },

  "cancer screening profile - female": {
    type: "package",
    aliases: ["cancer screening female", "cancer profile female"],
    content: {
      packageName: "Cancer Screening Profile - Female",
      tests: ["Cancer Antigen 125 (CA 125)", "Alpha Feto Protein (AFP)", "CA 15.3, Breast Cancer Marker", "Complete Blood Count (CBC) with ESR", "Carbohydrate Antigen 19-9 (CA 19.9)", "Carcinoembryonic Antigen (CEA)"],
      testsMetadata: [
        { testName: "Cancer Antigen 125 (CA 125)", sampleType: "Blood", method: "Tumor marker" },
        { testName: "Alpha Feto Protein (AFP)", sampleType: "Blood", method: "Tumor marker" },
        { testName: "CA 15.3, Breast Cancer Marker", sampleType: "Blood", method: "Tumor marker" },
        { testName: "Complete Blood Count (CBC) with ESR", sampleType: "Blood" },
        { testName: "Carbohydrate Antigen 19-9 (CA 19.9)", sampleType: "Blood", method: "Tumor marker" },
        { testName: "Carcinoembryonic Antigen (CEA)", sampleType: "Blood", method: "Tumor marker" }
      ],
      consumerPrice: 3499,
      labTatString: "Reports Within 12 hours",
      sampleCollection: "BLOOD"
    }
  },


  // Generic package FAQs (reusable)
  "package faqs": {
    type: "faq",
    aliases: ["package faq", "test package faqs", "test package faq"],
    content: `FAQs:
- Should I fast for Lipid Test? Fasting is not mandatory for a lipid profile unless advised by your doctor.
- Can I give the sample in fasting? Fasting is not mandatory, but you may give it fasting if preferred or advised.
- What is included in Iron profile? Iron, TIBC, UIBC, Transferrin saturation.
- Do you have ALT, GGT in the package? Yes ‚Äî included under LFT.
- Can I cancel urine from the package? Tests cannot be canceled; you may skip them but price remains the same.`
  },

  // Add more mappings as needed

  // SOP: GCT & GTT Booking
  "gct gtt booking sop": {
    type: "sop",
    aliases: [
      "gct sop",
      "gtt sop",
      "glucose challenge test sop",
      "glucose tolerance test sop",
      "gct booking",
      "gtt booking",
      "gct process",
      "gtt process",
      "gct instructions",
      "gtt instructions",
      "gestational diabetes test sop",
      "gct procedure",
      "gtt procedure",
      "gct test process",
      "gtt test process",
      "gct gtt instructions",
      "gct gtt process",
      "gct gtt procedure",
      "gct gtt test",
      "gct gtt",
      "glucose test sop",
      "glucose test process",
      "glucose test instructions",
      "glucose test procedure",
      "glucose challenge test",
      "glucose tolerance test",
      "gct",
      "gtt"
    ],
    content: `**GCT & GTT Booking SOP**\n\n**Purpose:** To outline the step-by-step procedure for conducting Glucose Challenge Test (GCT) and Glucose Tolerance Test (GTT) to ensure accuracy, consistency, and error-free bookings.\n\n**About Test:**\n- The Glucose Challenge Test (GCT) is a screening test used to detect gestational diabetes during pregnancy, a condition where the body does not process glucose (sugar) properly. The GCT is typically performed between the 24th and 28th week of pregnancy, as this is when gestational diabetes is most likely to develop. One of the advantages of the GCT is that it does not require fasting, making it convenient for pregnant women.\n- A Glucose Tolerance Test (GTT) measures your body's ability to process sugar after you drink a glucose solution, helping to diagnose diabetes, prediabetes, and gestational diabetes. It can detect Type 1 and Type 2 diabetes as well as gestational diabetes.\n\n**Pre-Test Instructions:**\n- Patient must be informed in advance about fasting requirements based on the test type.\n- Glucose (50g/75g) to be consumed as per doctor‚Äôs advice.\n- Post glucose consumption, the patient must fast - no food, only plain water allowed until test completion.\n\n**Test Process Summary:**\n\nGCT - 1 Hour\n- Consume Glucose (50g/75g) as per doctor advice\n- Give sample after one hour\n  Steps: Glucose drop, Sample Collection\n\nGCT - 2 Hours\n- Consume Glucose (75g) as per doctor advice\n- Give sample after two hours\n  Steps: Glucose drop, Sample Collection\n\nNO FASTING BLOOD SUGAR (FBS) sample is required for GCT\n\nGTT - 2 Sample\n- FBS (Fasting Blood Sugar)\n- Consume Glucose (50/75g)\n- Sample collection after 2 hours of glucose consumption\n  Steps: FBS Collection, GTT Sample Collection\n\nGTT - 3 Sample\n- FBS (Fasting Blood Sugar)\n- Consume Glucose (50/75g)\n- Sample collection after 1 hour of glucose consumption\n- Sample collection after 2 hours of glucose consumption\n  Steps: FBS Collection, 1 hr post glucose consumption, 2 hrs post glucose consumption\n\nGTT - 4 Sample\n- FBS (Fasting Blood Sugar)\n- Consume Glucose (50/75g)\n- Sample collection after 1 hour of glucose consumption\n- Sample collection after 2 hours of glucose consumption\n- Sample collection after 3 hours of glucose consumption\n  Steps: FBS Collection, 1 hr post glucose consumption, 2 hrs post glucose consumption, 3 hrs post glucose consumption\n\nGTT - 5 Sample\n- FBS (Fasting Blood Sugar)\n- Consume Glucose (50/75g)\n- Sample collection after 1 hour of glucose consumption\n- Sample collection after 2 hours of glucose consumption\n- Sample collection after 3 hours of glucose consumption\n- Sample collection after 4 hours of glucose consumption\n  Steps: FBS Collection, 1 hr post glucose consumption, 2 hrs post glucose consumption, 3 hrs post glucose consumption, 4 hrs post glucose consumption\n\nGTT - 6 Sample\n- FBS (Fasting Blood Sugar)\n- Consume Glucose (50/75g)\n- Sample collection after 1 hour of glucose consumption\n- Sample collection after 2 hours of glucose consumption\n- Sample collection after 3 hours of glucose consumption\n- Sample collection after 4 hours of glucose consumption\n- Sample collection after 5 hours of glucose consumption\n  Steps: FBS Collection, 1 hr post glucose consumption, 2 hrs post glucose consumption, 3 hrs post glucose consumption, 4 hrs post glucose consumption, 5 hrs post glucose consumption\n\n**Note:** FBS is required for GTT.\n`
  },
};

// Utility to find a mapping by keyword (case-insensitive, fuzzy)
export function findKeywordMapping(query) {
  const norm = (s) => String(s || "").toLowerCase().replace(/[^a-z0-9 ]/g, "").trim();
  const qNorm = norm(query);
  if (!qNorm) return null;

  // 1a) Exact key match (prefer an explicit mapping where the key equals the query)
  for (const key in KEYWORD_MAP) {
    if (qNorm === norm(key)) {
      return KEYWORD_MAP[key];
    }
  }
  // 1b) Exact alias match (fallback to alias equality)
  for (const key in KEYWORD_MAP) {
    if (KEYWORD_MAP[key].aliases && KEYWORD_MAP[key].aliases.some(a => qNorm === norm(a))) {
      return KEYWORD_MAP[key];
    }
  }

  // 2) Fuzzy: partial match on key or alias
  for (const key in KEYWORD_MAP) {
    if (qNorm.includes(norm(key)) || (KEYWORD_MAP[key].aliases && KEYWORD_MAP[key].aliases.some(a => qNorm.includes(norm(a))))) {
      return KEYWORD_MAP[key];
    }
  }

  // 3) Grouped package lookup (helpful for short/generic queries like "essential package", "fever packages")
  const tokens = qNorm.split(/\s+/).filter(Boolean);
  if (tokens.length > 0) {
    const packageMatches = [];
    for (const key in KEYWORD_MAP) {
      const m = KEYWORD_MAP[key];
      if (m.type !== 'package') continue;
      const keyNorm = norm(key);
      const aliasNorms = Array.isArray(m.aliases) ? m.aliases.map(a => norm(a)) : [];
      for (const t of tokens) {
        if (!t) continue;
        if (keyNorm.includes(t) || aliasNorms.some(a => a.includes(t))) {
          let snippet = '';
          if (typeof m.content === 'string') snippet = (m.content || '').split('\n')[0] || '';
          else if (m.content && m.content.packageName) snippet = m.content.packageName;
          packageMatches.push({ key, title: key, aliases: m.aliases || [], snippet });
          break;
        }
      }
    }
    if (packageMatches.length === 1) {
      // return the single matching package mapping
      return KEYWORD_MAP[packageMatches[0].key];
    }
    if (packageMatches.length > 1) {
      // Return an aggregated mapping indicating multiple package matches
      return { type: 'package_group', matches: packageMatches };
    }
  }

  return null;
}
